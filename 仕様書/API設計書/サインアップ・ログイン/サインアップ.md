# API概要
ユーザーが新しいアカウントを作成するためのAPIです。   
必要な情報を送信することで、Cognitoを使用してユーザーアカウントを作成します。  
GraphQLではなく、RESTful APIを使用しています。

## ドメイン名
`mokokero.com`

## エンドポイント
`https://api.mokokero.com/signup`

## メソッド
`POST`

## リクエスト
### リクエストヘッダー
| ヘッダー名        | 必須 | 説明                       |
|-------------------|------|-------------------------|
| Content-Type      | 必須 | `application/json`       |
| x-api-key         | 任意 | APIキー（必要に応じて設定）  |

### サンプル
```json
{
  "username": "john_doe",
  "email": "john.doe@example.com"
}
```

### リクエストパラメータ
| パラメータ   | タイプ   | 必須 | 説明                     |
|--------------|----------|------|----------------------|
| id           | String   | 必須 | Cognito ユニークid     |
| username     | String   | 必須 | ユーザー名             |
| email        | String   | 必須 | メールアドレス          |

## レスポンス
### サンプル
```json
{
  "message": "User registration successful.",
  "userSub": "12345678-1234-1234-1234-123456789012"
}
```
### レスポンスフィールド
| フィールド     | タイプ       | 説明                    |
|--------------|-----------|--------------------------|
| id           | String    |  Cognito ユニークid        |
| message      | String    | サインアップ成功メッセージ    |
| userSub      | String    | ユーザーの一意のサブ識別子    |

### エラーメッセージ
| フィールド   | タイプ    | 説明                         |
|--------------|-----------|---------------------------|
| message      | String    | エラーメッセージ            |
| error        | String    | エラータイプ                |
| details      | String    | エラーの詳細情報             |

# Cognitoを利用したサインアップフロー
1. クライアントはサインアップ情報（username、email）を含むPOSTリクエストを、Lambdaを経由して/signupエンドポイントに送信します。
2. サーバーはCognitoのSignUp APIを呼び出し、ユーザーを登録します。
3. サインアップが成功すると、ユーザーの一意のサブ識別子を含む成功メッセージが返されます。
4. エラーが発生した場合、適切なエラーメッセージが返されます。

# 追加情報
- Cognitoのユーザープールを設定して、サインアップに必要な属性やパスワードポリシーを定義します。
- 確認コードの検証など、追加のフローが必要な場合は、それに対応するAPIエンドポイントを設計します。
